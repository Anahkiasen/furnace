{% extends '_layouts/global.twig' %}
{% from '_macros/table.twig' import progress, boolean %}

{% block content %}
	<table class="table table-striped table-hover">
		<thead>
		<tr>
			<th>Artist</th>
			<th>Title</th>
			<th>Tracker</th>
			<th>Tuning</th>
			<th>Parts</th>
			<th>DD</th>
			<th>Live</th>
			<th>Volume</th>
			<th>Silence</th>
			<th>Playable</th>
			<th>Version</th>
			<th>Last update</th>
			<th>Tone</th>
			<th>Track</th>
			<th>Tab</th>
			<th>Rating</th>
		</tr>
		</thead>
		<tbody>
		{% for track in tracks %}
			<tr class="{% if not track.playable %}danger{% endif %} {% if track.rating >= 16 %}success{% endif %}">
				<td>{{ track.artist }}</td>
				<td>{{ track.name }}</td>
				<td>{{ track.tracker.name }}</td>
				<td>{{ track.tuning }}</td>
				<td>
					<span class="label label-warning" {% if not track.parts.lead %}disabled{% endif %}>L</span>
					<span class="label label-success" {% if not track.parts.rhythm %}disabled{% endif %}>R</span>
					<span class="label label-info" {% if not track.parts.bass %}disabled{% endif %}>B</span>
					<span class="label label-danger" {% if not track.parts.vocals %}disabled{% endif %}>V</span>
				</td>
				<td>{{ boolean(track.dd) }}</td>
				<td>{{ boolean(track.live) }}</td>
				<td>{{ boolean(track.normalized_volume) }}</td>
				<td>{{ boolean(track.presilence) }}</td>
				<td>{{ boolean(track.playable) }}</td>
				<td>{{ track.version }}</td>
				<td>{{ track.updated_at.toDateString() }}</td>
				<td>
					{{ progress(track.tone, 3) }}
				</td>
				<td>
					{{ progress(track.track, 3) }}
				</td>
				<td>
					{{ progress(track.tab, 3) }}
				</td>
				<td>
					{{ progress(track.rating, rating_scale) }}
				</td>
			</tr>
		{% endfor %}
		</tbody>
	</table>
{% endblock %}
